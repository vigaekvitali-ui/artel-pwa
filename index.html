<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>–ê–†–¢–ï–õ–¨ –§–û–†–î–û–í–ê –ò –ë–ï–ù–¶–û–í–ê v3.0</title>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

    <style>
        :root { --blue: #0047ab; --neon: #ff5e00; --bg: #0a0a0a; --text: #bdc3c7; }
        [x-cloak] { display: none !important; }
        
        body { background: var(--bg); color: var(--text); font-family: 'Courier New', monospace; margin: 0; padding-bottom: 90px; }
        header { padding: 15px; text-align: center; border-bottom: 2px solid var(--blue); background: #000; color: var(--neon); font-weight: bold; font-size: 1.2rem; }
        
        /* –°–µ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü */
        .page { display: none; padding: 15px; max-width: 800px; margin: 0 auto; }
        .active { display: block !important; }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –ì–û–°–¢ */
        .card { border: 1px solid var(--blue); background: rgba(0,71,171,0.1); padding: 15px; margin-bottom: 12px; border-left: 5px solid var(--blue); position: relative; }
        .card::after { content: "–ì–û–°–¢ 1924"; position: absolute; top: 2px; right: 5px; font-size: 0.5rem; color: var(--blue); opacity: 0.5; }

        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é - 8 –∫–Ω–æ–ø–æ–∫ */
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: #000; display: flex; justify-content: space-around; padding: 15px 0; border-top: 2px solid var(--blue); z-index: 1000; }
        .nav-item { color: #444; cursor: pointer; transition: 0.3s; }
        .nav-item.active { color: var(--neon); transform: scale(1.3); }
        
        /* –ö–Ω–æ–ø–∫–∏ –∏ –∏–Ω–ø—É—Ç—ã */
        .btn-pusker { background: var(--blue); color: white; border: none; padding: 12px; width: 100%; cursor: pointer; font-weight: bold; text-transform: uppercase; margin-top: 5px; box-shadow: 2px 2px 0 #000; }
        .btn-pusker:active { transform: translate(1px, 1px); box-shadow: none; }
        input { width: 100%; padding: 12px; background: #000; color: #fff; border: 1px solid var(--blue); box-sizing: border-box; margin-bottom: 10px; }
        
        /* –°–ø–µ—Ü-–±–ª–æ–∫–∏ –ö—É—Ä–∏–ª–∫–∏ */
        .zone-box { border: 2px solid var(--blue); padding: 15px; margin-bottom: 15px; text-align: center; background: rgba(0,0,0,0.4); border-radius: 4px; }
        .zone-box b { display: block; color: var(--neon); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 2px; }
        .zone-link { color: #fff; text-decoration: none; border: 1px solid #333; padding: 5px 10px; display: inline-block; font-size: 0.8rem; background: #111; }

        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
        th, td { border: 1px solid #333; padding: 8px; text-align: left; }
        th { background: var(--blue); }
    </style>
</head>
<body x-data="artelApp" x-init="init()">

<header>üõ† –ê–†–¢–ï–õ–¨ –§–û–†–î–û–í–ê –ò –ë–ï–ù–¶–û–í–ê üõ†</header>

<div x-cloak>
    <div class="page" :class="{'active': p === 1}">
        <div class="card">
            <h3 style="margin:0; color:var(--neon)" x-text="holiday"></h3>
            <p style="font-style:italic">"–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –Ω–µ —Ç—Ä–æ–≥–∞–π. –ï—Å–ª–∏ —Å–ª–æ–º–∞–ª–æ—Å—å ‚Äî —Å–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞ –≤ –ø–æ–º–æ—â—å."</p>
        </div>
        <div class="card">
            <strong style="color:var(--neon)">üìú –£–°–¢–ê–í –ê–†–¢–ï–õ–ò (10 –ü–£–ù–ö–¢–û–í)</strong>
            <div style="font-size:0.85rem; margin-top:10px;">
                <template x-for="(z, i) in zapovedi">
                    <div style="margin-bottom:6px;"><b x-text="(i+1) + '. '"></b> <span x-text="z"></span></div>
                </template>
            </div>
        </div>
    </div>

    <div class="page" :class="{'active': p === 2}">
        <template x-if="!isReg">
            <div class="card">
                <b style="color:var(--neon)">–ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –í –°–ï–¢–ò</b>
                <input type="text" x-model="userName" placeholder="–ü–æ–∑—ã–≤–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—Å—Ç–∞–¥–æ–Ω—Ç)..." style="margin-top:10px;">
                <button class="btn-pusker" @click="register()">–í–ö–õ–Æ–ß–ò–¢–¨ –ü–ò–¢–ê–ù–ò–ï</button>
            </div>
        </template>
        <template x-if="isReg">
            <div>
                <div id="chat-win" style="height:350px; overflow-y:auto; border:1px solid var(--blue); padding:10px; background:#000; margin-bottom:10px;">
                    <template x-for="m in msgs">
                        <div style="margin-bottom:12px; border-left:3px solid var(--blue); padding-left:10px;">
                            <small style="color:var(--neon); font-weight:bold;" x-text="m.username"></small>
                            <div x-text="m.text" style="margin-top:4px;"></div>
                        </div>
                    </template>
                </div>
                <div style="display:flex; gap:5px;">
                    <input type="text" x-model="newM" @keyup.enter="sendM()" placeholder="–ü—Ä–∏—ë–º, –Ω–∞ —Å–≤—è–∑–∏..." style="margin:0">
                    <button @click="sendM()" class="btn-pusker" style="width:80px; margin:0;">–ü–£–°–ö</button>
                </div>
            </div>
        </template>
    </div>

    <div class="page" :class="{'active': p === 3}">
        <div class="card">
            <b style="color:var(--neon)">–ó–ê–ü–ò–°–¨ –í –û–ë–©–ò–ô –Ø–©–ò–ö</b>
            <input type="text" x-model="boxNote" placeholder="–†–∞–∑–º–µ—Ä—ã, —Å—Å—ã–ª–∫–∏, –ø–æ–º–µ—Ç–∫–∏..." style="margin-top:10px;">
            <button class="btn-pusker" @click="saveBox()">–ü–û–õ–û–ñ–ò–¢–¨ –í –Ø–©–ò–ö</button>
        </div>
        <div class="card">
            <template x-for="item in boxItems">
                <div style="display:flex; justify-content:space-between; padding:10px; border-bottom:1px solid #222; font-size:0.9rem;">
                    <div>
                        <span style="color:var(--blue)" x-text="item.user_name + ': '"></span>
                        <span x-text="item.content"></span>
                    </div>
                    <button @click="deleteBox(item.id)" style="color:red; background:none; border:none; cursor:pointer;">[X]</button>
                </div>
            </template>
        </div>
    </div>

    <div class="page" :class="{'active': p === 4}">
        <input type="text" x-model="q" placeholder="–ü–æ–∏—Å–∫ (–ü–æ–¥—à–∏–ø–Ω–∏–∫, OBD, –ú–¢–ó)...">
        <table>
            <thead><tr><th>–î–ï–¢–ê–õ–¨ / –ö–û–î</th><th>–ó–ù–ê–ß–ï–ù–ò–ï</th></tr></thead>
            <tbody>
                <template x-for="i in tech.filter(x => x.n.toLowerCase().includes(q.toLowerCase()) || x.v.toLowerCase().includes(q.toLowerCase()))">
                    <tr><td x-text="i.n"></td><td style="color:var(--neon)" x-text="i.v"></td></tr>
                </template>
            </tbody>
        </table>
    </div>

    <div class="page" :class="{'active': p === 5}">
        <div class="card">
            <b style="color:var(--neon)">–û–ë–£–ß–ï–ù–ò–ï –ù–ï–ô–†–û–°–ï–¢–ï–ô</b>
            <p style="font-size:0.85rem">–ò—Å–ø–æ–ª—å–∑—É–π <b>–ü—Ä–æ–º—Ç –ö–æ–≤–±–æ–π</b> –¥–ª—è —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –ò–ò –ø–æ–¥ —Ç–≤–æ–∏ –∑–∞–¥–∞—á–∏.</p>
            <a href="https://promptcowboy.com" target="_blank" class="btn-pusker" style="display:block; text-align:center; text-decoration:none;">–û–¢–ö–†–´–¢–¨ –ü–†–û–ú–¢ –ö–û–í–ë–û–ô</a>
        </div>
        <div class="card">
            <b>–®–ê–ë–õ–û–ù –ó–ê–ü–†–û–°–ê:</b><br>
            <small>"–î–µ–π—Å—Ç–≤—É–π –∫–∞–∫ –º–∞—Å—Ç–µ—Ä-–¥–∏–∑–µ–ª–∏—Å—Ç, –Ω–∞–π–¥–∏ –ø—Ä–∏—á–∏–Ω—É —Å—Ç—É–∫–∞ –≤ –¥–≤–∏–≥–∞—Ç–µ–ª–µ –î-243..."</small>
        </div>
    </div>

    <div class="page" :class="{'active': p === 6}">
        <h3 style="color:var(--neon)">–ü–û–õ–ï–ó–ù–´–ï –°–ï–†–í–ò–°–´</h3>
        <template x-for="l in links">
            <a :href="l.u" target="_blank" class="card" style="display:block; text-decoration:none; color:inherit; text-align:center; font-weight:bold;">
                <span x-text="l.n"></span>
            </a>
        </template>
    </div>

    <div class="page" :class="{'active': p === 7}">
        <div class="zone-box">
            <b>üö¨ –¢–ê–ë–ê–ö –ê–†–¢–ï–õ–ò</b>
            <a href="https://onliner.by" target="_blank" class="zone-link">–ù–û–í–û–°–¢–ò –ë–ï–õ–ê–†–£–°–ò (ONLINER)</a>
        </div>
        <div class="zone-box">
            <b>‚òï –ö–û–§–ï –ê–†–¢–ï–õ–ò</b>
            <a href="https://e-lib.belstu.by" target="_blank" class="zone-link">–ë–ò–ë–õ–ò–û–¢–ï–ö–ê –ë–ì–¢–£</a>
        </div>
        <div class="zone-box">
            <b>ü•É –í–ò–°–ö–™ "–ê–†–¢–ï–õ–¨–ù–´–ô"</b>
            <a href="http://radiopotok.ru" target="_blank" class="zone-link">–†–ê–î–ò–û –ò –ú–£–ó–´–ö–ê</a>
        </div>
    </div>

    <div class="page" :class="{'active': p === 8}">
        <h3 style="color:var(--neon)">–£–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–û–ô</h3>
        <div class="card" style="text-align:center; background:#fff; padding:15px;">
            <div id="qrcode"></div>
            <div style="color:#000; font-size:0.7rem; margin-top:5px;">QR –î–õ–Ø –°–í–Ø–ó–ò –° –¢–ï–õ–ï–§–û–ù–û–ú</div>
        </div>
        <button class="btn-pusker" @click="localStorage.clear(); location.reload();" style="background:red;">–°–ë–†–û–°–ò–¢–¨ –í–°–Å</button>
    </div>
</div>

<nav class="nav-bar">
    <template x-for="(ic, i) in ['home','message-square','package','wrench','brain','zap','coffee','settings']">
        <div class="nav-item" :class="{'active': p === (i+1)}" @click="p=(i+1); refresh()">
            <i :data-lucide="ic"></i>
        </div>
    </template>
</nav>

<script>
    const _URL = 'https://grsszunlfmehyykkvccj.supabase.co';
    const _KEY = 'sb_publishable_lOjqRJ2R_tHLo0GiLPjaYA_6UYCfCaX';
    let db = null;
    try { db = supabase.createClient(_URL, _KEY); } catch(e) { console.log('DB Error'); }

    document.addEventListener('alpine:init', () => {
        Alpine.data('artelApp', () => ({
            p: 1, q: '', 
            isReg: localStorage.getItem('reg_v3') || false,
            userName: localStorage.getItem('user_v3') || '',
            msgs: [], boxItems: [], newM: '', boxNote: '',
            holiday: '–†–∞–±–æ—á–∞—è —Å–º–µ–Ω–∞: ' + new Date().toLocaleDateString(),
            zapovedi: ['–ò–∑–æ–ª–µ–Ω—Ç–∞ ‚Äî –≤—Å–µ–º—É –≥–æ–ª–æ–≤–∞','–ú–∞—Ç —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è —Ä–µ–º–æ–Ω—Ç–∞ –Ω–∞ 30%','–õ–∏—à–Ω—è—è –¥–µ—Ç–∞–ª—å ‚Äî —ç—Ç–æ –∑–∞–ø–∞—Å–Ω–∞—è','–ù–µ –ª–µ–∑—å –≤ —Ä–∞–±–æ—Ç–∞—é—â–∏–π —É–∑–µ–ª','–ß–∏—Å—Ç—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Äî –∑–∞–ª–æ–≥ —É—Å–ø–µ—Ö–∞','–°–µ–º—å —Ä–∞–∑ –æ—Ç–º–µ—Ä—å ‚Äî –æ–¥–∏–Ω –∑–∞–≤–∞—Ä–∏','–£–≤–∞–∂–∞–π –º–∞–∑—É—Ç—É','–ù–µ —É–≤–µ—Ä–µ–Ω ‚Äî –Ω–µ –∫—Ä—É—Ç–∏','–ê—Ä—Ç–µ–ª—å ‚Äî —ç—Ç–æ —Å–µ–º—å—è','–ü–µ—Ä–µ–∫—É—Ä ‚Äî —Å–≤—è—Ç–æ–µ'],
            tech: [
                {n:'–ü–æ–¥—à–∏–ø–Ω–∏–∫ 203', v:'17x40x12'}, {n:'–ü–æ–¥—à–∏–ø–Ω–∏–∫ 305', v:'25x62x17'},
                {n:'M10 –®–∞–≥ 1.5', v:'–°–≤–µ—Ä–ª–æ 8.5'}, {n:'M12 –®–∞–≥ 1.25', v:'–°–≤–µ—Ä–ª–æ 10.8'},
                {n:'P0300 (OBD)', v:'–ü—Ä–æ–ø—É—Å–∫–∏ –∑–∞–∂–∏–≥–∞–Ω–∏—è'}, {n:'P0171 (OBD)', v:'–ë–µ–¥–Ω–∞—è —Å–º–µ—Å—å'},
                {n:'–ú–¢–ó-82', v:'–î–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å–ª–∞ 0.2-0.5'}, {n:'–Ø–ú–ó-236', v:'–ó–∞–∑–æ—Ä—ã –∫–ª–∞–ø–∞–Ω–æ–≤ 0.25'}
            ],
            links: [
                {n:'Google Gemini', u:'https://gemini.google.com'},
                {n:'Suno AI (–ú—É–∑—ã–∫–∞)', u:'https://suno.com'},
                {n:'Notebook LM', u:'https://notebooklm.google.com'},
                {n:'Canva (–î–∏–∑–∞–π–Ω)', u:'https://canva.com'}
            ],

            init() {
                lucide.createIcons();
                this.genQR();
                if(db) {
                    this.load();
                    db.channel('artel').on('postgres_changes', {event:'*', schema:'public'}, () => this.load()).subscribe();
                }
            },
            refresh() { setTimeout(() => lucide.createIcons(), 50); },
            register() { if(this.userName) { this.isReg = true; localStorage.setItem('reg_v3', true); localStorage.setItem('user_v3', this.userName); }},
            async load() {
                const {data:m} = await db.from('messages').select('*').order('id',{ascending:false}).limit(20);
                if(m) this.msgs = m.reverse();
                const {data:b} = await db.from('boxes').select('*').order('id',{ascending:false});
                if(b) this.boxItems = b;
            },
            async sendM() { if(!this.newM) return; await db.from('messages').insert([{username:this.userName, text:this.newM}]); this.newM = ''; },
            async saveBox() { if(!this.boxNote) return; await db.from('boxes').insert([{content:this.boxNote, user_name:this.userName}]); this.boxNote = ''; },
            async deleteBox(id) { await db.from('boxes').delete().eq('id', id); },
            genQR() { const qr = qrcode(0, 'M'); qr.addData(window.location.href); qr.make(); document.getElementById('qrcode').innerHTML = qr.createImgTag(4); }
        }));
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
</body>
</html>
