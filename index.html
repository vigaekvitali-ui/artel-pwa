<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ê–†–¢–ï–õ–¨ –§–û–†–î–û–í–ê –ò –ë–ï–ù–¶–û–í–ê</title>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

    <style>
        [x-cloak] { display: none !important; }
        :root { 
            --blue-tape: #0047ab; 
            --steel: #bdc3c7; 
            --oil: #1a1a1a; 
            --rust: #8b4513; 
            --neon-orange: #ff5e00;
        }

        /* –¢–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è */
        .theme-classic { --bg: #1a1a1a; --text: var(--steel); --accent: var(--blue-tape); }
        .theme-rust { --bg: #2b1d12; --text: #d2b48c; --accent: var(--rust); }
        .theme-steel { --bg: #2c3e50; --text: #ecf0f1; --accent: #7f8c8d; }
        .theme-oil { --bg: #000000; --text: #888; --accent: #444; }
        .theme-neon { --bg: #050505; --text: #00ff00; --accent: var(--neon-orange); }

        body { 
            background-color: var(--bg); 
            color: var(--text); 
            font-family: 'Courier New', monospace; 
            margin: 0; padding-bottom: 70px; 
            transition: all 0.3s ease;
            overflow-x: hidden;
        }

        /* –õ–æ–≥–æ—Ç–∏–ø –∏ –•–µ–¥–µ—Ä */
        .header-main { text-align: center; border-bottom: 2px solid var(--accent); padding: 15px; background: #000; }
        .logo-svg { width: 40px; vertical-align: middle; fill: var(--blue-tape); }

        /* –ò–ù-14 –õ–∞–º–ø–æ—á–∫–∞ */
        .in-14 { 
            color: var(--neon-orange); 
            text-shadow: 0 0 10px var(--neon-orange), 0 0 20px var(--neon-orange);
            font-family: 'Orbitron', sans-serif;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü—ã */
        .page { display: none; padding: 15px; animation: slideIn 0.3s ease-out; }
        .page.active { display: block; }
        @keyframes slideIn { from { transform: translateX(20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –ì–û–°–¢ */
        .gost-card { 
            border: 1px solid var(--accent); 
            background: rgba(0,0,0,0.3); 
            padding: 15px; 
            margin-bottom: 10px; 
            position: relative;
            border-left: 5px solid var(--accent);
        }

        /* –¢—É–º–±–ª–µ—Ä –ü–£–°–ö */
        .tumbler-container { display: flex; align-items: center; gap: 10px; margin-top: 10px; }
        .switch {
            position: relative; display: inline-block; width: 60px; height: 34px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: #333; transition: .4s; border: 2px solid var(--accent);
        }
        .slider:before {
            position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 2px;
            background-color: var(--accent); transition: .4s;
        }
        input:checked + .slider { background-color: var(--blue-tape); }
        input:checked + .slider:before { transform: translateX(26px); }

        /* –ö–Ω–æ–ø–∫–∞ –ì–û–°–¢–Ω–æ */
        .btn-gost { 
            background: none; border: 1px solid var(--text); color: var(--text); 
            padding: 5px 10px; cursor: pointer; display: flex; align-items: center; gap: 5px;
        }
        .btn-gost:hover { color: var(--neon-orange); border-color: var(--neon-orange); }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav-bar { 
            position: fixed; bottom: 0; width: 100%; background: #000; 
            display: flex; justify-content: space-around; padding: 10px 0; 
            border-top: 2px solid var(--accent); z-index: 1000;
        }
        .nav-item { color: #555; cursor: pointer; }
        .nav-item.active { color: var(--accent); }

        /* –¢–∞–±–ª–∏—Ü–∞ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.8rem; }
        th, td { border: 1px solid var(--accent); padding: 8px; text-align: left; }
        th { background: rgba(0,71,171,0.2); }

        /* –ö–∞–ª–µ–Ω–¥–∞—Ä—å */
        .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; text-align: center; font-size: 0.7rem; }
        .cal-day { padding: 5px; border: 1px solid #333; }
        .cal-today { background: var(--blue-tape); color: #fff; }
        .holiday { color: var(--neon-orange); font-weight: bold; }
    </style>
</head>
<body x-data="artelApp" :class="currentTheme" x-cloak>

    <header class="header-main">
        <svg class="logo-svg" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>
        <h2 style="display: inline; margin: 0 10px; font-size: 1.2rem;">–ê–†–¢–ï–õ–¨ –§–û–†–î–û–í–ê –ò –ë–ï–ù–¶–û–í–ê</h2>
        <svg class="logo-svg" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>
    </header>

    <div class="page" :class="{ 'active': page === 1 }">
        <div class="gost-card">
            <h3 class="in-14" style="margin-top:0">–°–ò–ù–Ø–Ø –ò–ó–û–õ–ï–ù–¢–ê</h3>
            <p style="font-style: italic">¬´–ï—Å–ª–∏ –Ω–µ –¥–µ—Ä–∂–∏—Ç ‚Äî –∑–Ω–∞—á–∏—Ç, –º–∞–ª–æ –Ω–∞–º–æ—Ç–∞–ª¬ª</p>
            
            <div class="cal-grid">
                <template x-for="day in calendarDays">
                    <div class="cal-day" :class="{'cal-today': day.isToday, 'holiday': day.isHoliday}" x-text="day.d"></div>
                </template>
            </div>
            <div style="margin-top:10px; font-size: 0.8rem; border-top: 1px solid #444; padding-top:5px;">
                <strong>–ó–∞–∫–æ–Ω –ú–µ—Ä—Ñ–∏:</strong> <span x-text="dailyQuote"></span>
            </div>
        </div>

        <h3 class="neon-text">üìã 10 –ó–ê–ü–û–í–ï–î–ï–ô</h3>
        <template x-for="(z, i) in zapovedi">
            <div class="gost-card">
                <strong x-text="(i+1) + '. ' + z.title"></strong>
                <p x-text="z.text" style="font-size: 0.8rem; margin: 5px 0;"></p>
                <button class="btn-gost" @click="likeZapoved(i)">
                    <i data-lucide="thumbs-up" style="width:14px"></i> –ì–û–°–¢–Ω–æ <span x-text="z.likes"></span>
                </button>
            </div>
        </template>
    </div>

    <div class="page" :class="{ 'active': page === 2 }">
        <div class="gost-card">
            <div class="in-14">–í –≠–§–ò–†–ï: <span x-text="onlineCount"></span> –ú–ê–°–¢–ï–†–û–í</div>
        </div>
        <div id="chat-box" style="height: 350px; overflow-y: auto; background: #000; border: 1px solid var(--accent); padding: 10px;">
            <template x-for="m in messages">
                <div style="margin-bottom: 10px; border-left: 2px solid var(--blue-tape); padding-left: 10px;">
                    <small x-text="m.user" :style="{color: m.role === 'admin' ? 'red' : 'var(--neon-orange)'}"></small>
                    <div x-text="m.text"></div>
                </div>
            </template>
        </div>
        <div class="tumbler-container">
            <input type="text" x-model="newMsg" placeholder="–î–æ–∫–ª–∞–¥..." style="flex:1; background: #111; color: #fff; border: 1px solid var(--accent); padding: 10px;">
            <label class="switch">
                <input type="checkbox" @change="sendMsg($el)">
                <span class="slider"></span>
            </label>
            <span style="font-weight:bold">–ü–£–°–ö</span>
        </div>
    </div>

    <div class="page" :class="{ 'active': page === 3 }">
        <h3 class="in-14">–Ø–©–ò–ö "–ù–ó"</h3>
        <div class="gost-card">üì¶ <strong>–ë–∏—Ä–∂–∞ –î–µ—Ñ–∏—Ü–∏—Ç–∞:</strong> –í –Ω–∞–ª–∏—á–∏–∏ –∫–∞—Ä–±—é—Ä–∞—Ç–æ—Ä –ö-126.</div>
        <div class="gost-card">üí° <strong>–í—Ä–µ–¥–Ω—ã–µ —Å–æ–≤–µ—Ç—ã:</strong> –ö–∞–∫ –∑–∞–≤–µ—Å—Ç–∏ –¥–∏–∑–µ–ª—å –≤ -40 —Å –ø–æ–º–æ—â—å—é —Ñ–∞–∫–µ–ª–∞.</div>
        <div class="gost-card">üìú <strong>–ß–µ—Ä—Ç–µ–∂–Ω—ã–π –∞—Ä—Ö–∏–≤:</strong> –°—Ö–µ–º–∞ —Ä–∞–∑–≤–æ–¥–∫–∏ –≤–∞–∫—É—É–º–∞ Ford Sierra.</div>
    </div>

    <div class="page" :class="{ 'active': page === 4 }">
        <h3 class="neon-text">–ì–û–°–¢ –°–ü–†–ê–í–û–ß–ù–ò–ö</h3>
        <input type="text" x-model="searchQuery" placeholder="–ü–æ–∏—Å–∫ (–†–µ–∑—å–±–∞, –ø–æ–¥—à–∏–ø–Ω–∏–∫, OBD...)" style="width:100%; padding:10px; background:#000; color:#fff; border:1px solid var(--accent);">
        <table>
            <thead><tr><th>–¢–∏–ø</th><th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th><th>–ì–û–°–¢</th></tr></thead>
            <tbody>
                <template x-for="item in filteredRefs">
                    <tr><td x-text="item.type"></td><td x-text="item.val"></td><td x-text="item.gost" class="in-14"></td></tr>
                </template>
            </tbody>
        </table>
    </div>

    <div class="page" :class="{ 'active': page === 5 }">
        <div class="gost-card" style="border-color: red;">
            ‚ö†Ô∏è <strong>–í–ù–ò–ú–ê–ù–ò–ï:</strong> –î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏ –ò–ò –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å VPN!
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <a href="https://gemini.google.com" class="gost-card" style="text-align: center; text-decoration: none; color: inherit;">Gemini AI</a>
            <a href="https://suno.com" class="gost-card" style="text-align: center; text-decoration: none; color: inherit;">Suno Music</a>
            <a href="https://1.1.1.1" class="gost-card" style="text-align: center; text-decoration: none; color: #00ff00;">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π VPN</a>
        </div>
    </div>

    <div class="page" :class="{ 'active': page === 6 }">
        <h3 class="in-14">–í–ï–†–°–¢–ê–ö –ò–î–ï–ô</h3>
        <div class="gost-card" x-text="currentPrompt"></div>
        <button class="btn-pusker btn-gost" @click="shufflePrompt" style="width:100%; justify-content: center; padding: 15px;">–û–ë–ù–û–í–ò–¢–¨ –ò–î–ï–Æ</button>
    </div>

    <div class="page" :class="{ 'active': page === 7 }">
        <h3 class="neon-text">–ì–ê–†–ê–ñ–ù–´–ï –ë–ê–ô–ö–ò</h3>
        <div class="gost-card" style="font-size: 1.1rem;" x-text="currentJoke"></div>
        <button class="btn-gost" @click="shuffleJoke" style="width:100%; justify-content: center; padding: 15px;">–ï–©–Å –ê–ù–ï–ö–î–û–¢</button>
    </div>

    <div class="page" :class="{ 'active': page === 8 }">
        <h3 class="in-14">–¶–ï–•–û–í–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê</h3>
        <div class="gost-card">
            <label>–°–º–µ–Ω–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:</label>
            <select x-model="currentTheme" @change="saveTheme" style="width:100%; background:#000; color:#fff; padding:10px;">
                <option value="theme-classic">–°–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞</option>
                <option value="theme-rust">–†–∂–∞–≤–æ–µ –∂–µ–ª–µ–∑–æ</option>
                <option value="theme-steel">–û—Ü–∏–Ω–∫–æ–≤–∫–∞</option>
                <option value="theme-oil">–ú–∞–∑—É—Ç</option>
                <option value="theme-neon">–ò–ù-14 –ù–µ–æ–Ω</option>
            </select>
        </div>
        <div id="qrcode" style="display: flex; justify-content: center; padding: 20px; background: #fff; margin-top: 10px;"></div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item" :class="{'active': page === 1}" @click="setPage(1)"><i data-lucide="home"></i></div>
        <div class="nav-item" :class="{'active': page === 2}" @click="setPage(2)"><i data-lucide="message-square"></i></div>
        <div class="nav-item" :class="{'active': page === 3}" @click="setPage(3)"><i data-lucide="box"></i></div>
        <div class="nav-item" :class="{'active': page === 4}" @click="setPage(4)"><i data-lucide="wrench"></i></div>
        <div class="nav-item" :class="{'active': page === 5}" @click="setPage(5)"><i data-lucide="zap"></i></div>
        <div class="nav-item" :class="{'active': page === 6}" @click="setPage(6)"><i data-lucide="lightbulb"></i></div>
        <div class="nav-item" :class="{'active': page === 7}" @click="setPage(7)"><i data-lucide="smile"></i></div>
        <div class="nav-item" :class="{'active': page === 8}" @click="setPage(8)"><i data-lucide="settings"></i></div>
    </nav>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('artelApp', () => ({
                page: 1,
                currentTheme: localStorage.getItem('artel_theme') || 'theme-classic',
                onlineCount: Math.floor(Math.random() * 5) + 1,
                newMsg: '',
                searchQuery: '',
                dailyQuote: '',
                currentPrompt: '',
                currentJoke: '',
                calendarDays: [],
                
                messages: [
                    {user: '–ú–∞—Å—Ç–æ–¥–æ–Ω—Ç', text: '–ö–ª–µ–π—Ç–µ –∏–∑–æ–ª–µ–Ω—Ç—É —Å—Ç—ã–∫ –≤ —Å—Ç—ã–∫!', role: 'admin'}
                ],

                zapovedi: [
                    {title: '–¢–ë ‚Äî –Ω–µ –¥–æ–≥–º–∞', text: '–ù–æ –ø–æ–º–Ω–∏, –∑–∞–ø–∞—Å–Ω—ã—Ö –ø–∞–ª—å—Ü–µ–≤ –≤ –ê—Ä—Ç–µ–ª–∏ –Ω–µ –≤—ã–¥–∞—é—Ç.', likes: 12},
                    {title: '–ó–∞–∫–æ–Ω –ª–∏—à–Ω–µ–π –¥–µ—Ç–∞–ª–∏', text: '–û—Å—Ç–∞–ª–∏—Å—å –±–æ–ª—Ç—ã? –≠—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–∞!', likes: 45},
                    {title: '–°–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞', text: '–õ–µ—á–∏—Ç –≤—Å—ë: –æ—Ç —Ä–∞–¥–∏–∞—Ç–æ—Ä–∞ –¥–æ —Å–µ—Ä–¥—Ü–∞.', likes: 108},
                    {title: '–£–≤–∞–∂–µ–Ω–∏–µ –∫ –ú–∞—Å—Ç–æ–¥–æ–Ω—Ç–∞–º', text: '–°–ª—É—à–∞–π –¥–µ–¥–∞ ‚Äî –≤ –Ω–µ–º –æ–ø—ã—Ç —Ç—Ä–µ—Ö –∫–∞–ø—Ä–µ–º–æ–Ω—Ç–æ–≤.', likes: 30}
                ],

                refs: [
                    {type: '–†–µ–∑—å–±–∞ M6', val: '–®–∞–≥ 1.0, –°–≤–µ—Ä–ª–æ 5.0', gost: '001'},
                    {type: '–†–µ–∑—å–±–∞ M8', val: '–®–∞–≥ 1.25, –°–≤–µ—Ä–ª–æ 6.8', gost: '001'},
                    {type: '–û—à–∏–±–∫–∞ P0300', val: '–ü—Ä–æ–ø—É—Å–∫–∏ –∑–∞–∂–∏–≥–∞–Ω–∏—è', gost: '002'},
                    {type: '–ü–æ–¥—à–∏–ø–Ω–∏–∫ 203', val: '17x40x12 –º–º', gost: '004'}
                ],

                init() {
                    lucide.createIcons();
                    this.updateCalendar();
                    this.shufflePrompt();
                    this.shuffleJoke();
                    this.generateQR();
                    this.dailyQuote = "–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫, –æ–Ω–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫.";
                },

                setPage(p) {
                    this.page = p;
                    this.$nextTick(() => lucide.createIcons());
                },

                updateCalendar() {
                    const now = new Date();
                    const daysInMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();
                    const holidays = ['01-01', '01-07', '02-23', '03-08', '05-01', '05-09', '07-03', '11-07', '12-25'];
                    
                    for(let i=1; i<=daysInMonth; i++) {
                        const dateStr = `${now.getMonth()+1 < 10 ? '0' : ''}${now.getMonth()+1}-${i < 10 ? '0' : ''}${i}`;
                        this.calendarDays.push({
                            d: i,
                            isToday: i === now.getDate(),
                            isHoliday: holidays.includes(dateStr)
                        });
                    }
                },

                sendMsg(el) {
                    if(el.checked && this.newMsg) {
                        this.messages.push({user: '–ú–∞—Å—Ç–µ—Ä', text: this.newMsg, role: 'user'});
                        this.newMsg = '';
                        setTimeout(() => el.checked = false, 500);
                        document.getElementById('chat-box').scrollTop = 9999;
                    }
                },

                get filteredRefs() {
                    return this.refs.filter(i => i.type.toLowerCase().includes(this.searchQuery.toLowerCase()));
                },

                shufflePrompt() {
                    const prompts = ["–°–æ–±–µ—Ä–∏ –¥—Ä–æ–Ω –∏–∑ –∫–æ–Ω—Å–µ—Ä–≤–Ω–æ–π –±–∞–Ω–∫–∏.", "–í–µ—á–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å –Ω–∞ –º–∞–≥–Ω–∏—Ç–∞—Ö –∏ –ª–∏–ø—É—á–∫–µ.", "–ö–∞–∫ –ø–µ—Ä–µ–∫—Ä–∞—Å–∏—Ç—å –∞–≤—Ç–æ –∫–∏—Å—Ç–æ—á–∫–æ–π –∏ –Ω–µ –ø–ª–∞–∫–∞—Ç—å."];
                    this.currentPrompt = prompts[Math.floor(Math.random()*prompts.length)];
                },

                shuffleJoke() {
                    const jokes = ["–ò–Ω–∂–µ–Ω–µ—Ä ‚Äî —ç—Ç–æ —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å —á–µ—Ä—Ç–µ–∂ –ª–æ–º–∞.", "‚Äî –ü–æ—á–µ–º—É —Å–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞? ‚Äî –ü–æ—Ç–æ–º—É —á—Ç–æ —á–µ—Ä–Ω–∞—è –¥–ª—è —Ç—Ä–∞—É—Ä–∞.", "–ï—Å–ª–∏ –¥–µ—Ç–∞–ª—å –ª–∏—à–Ω—è—è, –∑–Ω–∞—á–∏—Ç –æ–Ω–∞ –∑–∞–ø–∞—Å–Ω–∞—è."];
                    this.currentJoke = jokes[Math.floor(Math.random()*jokes.length)];
                },

                saveTheme() { localStorage.setItem('artel_theme', this.currentTheme); },

                likeZapoved(i) { this.zapovedi[i].likes++; },

                generateQR() {
                    const qr = qrcode(0, 'M');
                    qr.addData(window.location.href);
                    qr.make();
                    document.getElementById('qrcode').innerHTML = qr.createImgTag(4);
                }
            }));
        });
    </script>
</body>
</html>
