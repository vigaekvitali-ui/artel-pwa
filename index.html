<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ê–†–¢–ï–õ–¨: –ü–û–õ–ù–´–ô –ü–†–ò–í–û–î</title>
    <script src="https://unpkg.com/lucide@0.321.0/dist/umd/lucide.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://unpkg.com/alpinejs@3.13.5/dist/cdn.min.js" defer></script>
    <style>
        [x-cloak] { display: none !important; }
        :root { --blue-tape: #0047ab; --neon: #ff5e00; --steel: #bdc3c7; }
        body { background: #111; color: var(--steel); font-family: 'Courier New', monospace; margin: 0; padding-bottom: 90px; }
        .page { display: none; padding: 20px; animation: fadeIn 0.2s; }
        .active { display: block !important; }
        .gost-card { border: 1px solid var(--blue-tape); padding: 15px; margin-bottom: 10px; background: rgba(0,71,171,0.1); border-left: 4px solid var(--blue-tape); }
        .neon-text { color: var(--neon); text-shadow: 0 0 5px var(--neon); }
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: #000; display: flex; justify-content: space-around; padding: 15px 0; border-top: 2px solid var(--blue-tape); z-index: 1000; }
        .nav-item { color: #444; cursor: pointer; transition: 0.3s; }
        .active-nav { color: var(--neon); transform: translateY(-5px); }
        input, .btn-pusker { width: 100%; padding: 12px; background: #000; border: 1px solid var(--blue-tape); color: white; box-sizing: border-box; }
        .btn-pusker { background: var(--blue-tape); font-weight: bold; cursor: pointer; margin-top: 10px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
        th, td { border: 1px solid #333; padding: 10px; text-align: center; }
        th { background: var(--blue-tape); color: white; }
    </style>
</head>
<body x-data="artelCore" x-cloak>

    <header style="padding: 15px; text-align: center; background: #000; border-bottom: 1px solid var(--blue-tape);">
        <h1 style="margin: 0; font-size: 0.9rem;" class="neon-text">üõ† –¶–£–ü –ê–†–¢–ï–õ–ò v2.0</h1>
    </header>

    <div :class="{ 'active': page === 1 }" class="page">
        <div class="gost-card" style="border-color: var(--neon);">
            <div class="neon-text" style="font-weight: bold; font-size: 1.1rem;" x-text="holidayTitle"></div>
            <div style="font-size: 0.8rem; margin-top: 5px;" x-text="todayDate"></div>
            <hr style="border: 0.5px solid #333; margin: 10px 0;">
            <div style="font-style: italic; color: #fff;" x-text="'¬´' + dailyQuote + '¬ª'"></div>
        </div>
        <h3 class="neon-text">–£–°–¢–ê–í</h3>
        <template x-for="(z, i) in zapovedi">
            <div class="gost-card" style="font-size: 0.8rem;" x-text="(i+1) + '. ' + z"></div>
        </template>
    </div>

    <div :class="{ 'active': page === 2 }" class="page">
        <h3 class="neon-text">–†–ê–î–ò–û–†–£–ë–ö–ê</h3>
        <div id="chat" style="height: 300px; overflow-y: auto; border: 1px solid var(--blue-tape); background: #000; padding: 10px; margin-bottom: 10px;">
            <template x-for="m in messages">
                <div style="margin-bottom: 10px; border-left: 2px solid var(--blue-tape); padding-left: 10px;">
                    <small class="neon-text" x-text="m.username"></small>
                    <div x-text="m.text"></div>
                </div>
            </template>
        </div>
        <input type="text" x-model="msg" @keyup.enter="sendMsg" placeholder="–ü—Ä–∏—ë–º...">
        <button @click="sendMsg" class="btn-pusker">–û–¢–ü–†–ê–í–ò–¢–¨ –í –≠–§–ò–†</button>
    </div>

    <div :class="{ 'active': page === 3 }" class="page">
        <h3 class="neon-text">–ó–ê–ü–ß–ê–°–¢–ò –ù–ê –û–ë–ú–ï–ù</h3>
        <template x-for="item in inventory">
            <div class="gost-card" style="display: flex; justify-content: space-between;">
                <span x-text="item.name"></span>
                <span class="neon-text" x-text="item.owner"></span>
            </div>
        </template>
    </div>

    <div :class="{ 'active': page === 4 }" class="page">
        <h3 class="neon-text">–ú–ï–¢–†–ò–ß–ï–°–ö–ê–Ø –†–ï–ó–¨–ë–ê</h3>
        
        <table>
            <thead><tr><th>M</th><th>–®–∞–≥</th><th>–°–≤–µ—Ä–ª–æ</th></tr></thead>
            <tbody>
                <template x-for="r in rezba">
                    <tr><td x-text="r.m"></td><td x-text="r.s"></td><td x-text="r.d" class="neon-text"></td></tr>
                </template>
            </tbody>
        </table>
        <h3 class="neon-text" style="margin-top:20px;">OBD-II –°–ö–ê–ù–ï–†</h3>
        <input type="text" x-model="obdQuery" placeholder="–í–≤–µ–¥–∏ –∫–æ–¥ (P0300)">
        <div class="gost-card" style="margin-top:10px;" x-text="scanOBD()"></div>
    </div>

    <div :class="{ 'active': page === 5 }" class="page">
        <h3 class="neon-text">–ò–ù–°–¢–†–£–ú–ï–ù–¢–´ (–ù–£–ñ–ï–ù VPN)</h3>
        <div class="gost-card"><strong>VPN:</strong> <a href="https://1.1.1.1" style="color:var(--neon)">Cloudflare 1.1.1.1</a> (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ)</div>
        <div class="gost-card"><strong>–ò–ò:</strong> <a href="https://chatgpt.com" style="color:white">ChatGPT</a></div>
        <div class="gost-card"><strong>–ò–ò:</strong> <a href="https://gemini.google.com" style="color:white">Google Gemini</a></div>
    </div>

    <div :class="{ 'active': page === 6 }" class="page">
        <h3 class="neon-text">–ì–ï–ù–ï–†–ê–¢–û–† –ü–†–û–ú–¢–û–í</h3>
        <div class="gost-card" style="min-height: 100px; display: flex; align-items: center; justify-content: center; text-align: center;" x-text="currentPrompt"></div>
        <button @click="shufflePrompt" class="btn-pusker">–°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –ò–î–ï–Æ</button>
    </div>

    <div :class="{ 'active': page === 7 }" class="page">
        <h3 class="neon-text">–ë–ê–ô–ö–ò –ò–ó –ì–ê–†–ê–ñ–ê</h3>
        <div class="gost-card" style="min-height: 100px;" x-text="currentJoke"></div>
        <button @click="shuffleJoke" class="btn-pusker">–†–ê–°–°–ö–ê–ó–ê–¢–¨ –ï–©–Å</button>
    </div>

    <div :class="{ 'active': page === 8 }" class="page">
        <h3 class="neon-text">–°–í–Ø–ó–¨</h3>
        <div class="gost-card">–õ–æ–≥–∏–Ω: <input type="text" x-model="username"></div>
        <div id="qrcode" style="display: flex; justify-content: center; background: white; padding: 10px; margin-top: 10px;"></div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item" :class="{'active-nav': page === 1}" @click="setPage(1)"><i data-lucide="home"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 2}" @click="setPage(2)"><i data-lucide="message-circle"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 3}" @click="setPage(3)"><i data-lucide="package"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 4}" @click="setPage(4)"><i data-lucide="wrench"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 5}" @click="setPage(5)"><i data-lucide="zap"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 6}" @click="setPage(6)"><i data-lucide="brain-circuit"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 7}" @click="setPage(7)"><i data-lucide="laugh"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 8}" @click="setPage(8)"><i data-lucide="settings"></i></div>
    </nav>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('artelCore', () => ({
                page: 1,
                username: '–ú–∞—Å—Ç–µ—Ä-' + Math.floor(Math.random()*99),
                msg: '',
                messages: [],
                obdQuery: '',
                holidayTitle: '',
                todayDate: '',
                dailyQuote: '',
                currentPrompt: '',
                currentJoke: '',

                zapovedi: ["–¢–ë ‚Äî –Ω–µ –¥–æ–≥–º–∞.", "–ò–∑–æ–ª–µ–Ω—Ç–∞ ‚Äî —Å–∏–ª–∞.", "–ú–∞—Ç ‚Äî —É—Å–∫–æ—Ä–∏—Ç–µ–ª—å.", "–û–±–º—ã–ª ‚Äî –∑–∞–∫—Ä–µ–ø–∏–ª."],
                rezba: [{m:'M6', s:'1.0', d:'5.0'}, {m:'M8', s:'1.25', d:'6.8'}, {m:'M10', s:'1.5', d:'8.5'}],
                inventory: [{name:'–¢—Ä–∞–º–±–ª–µ—Ä –í–ê–ó', owner:'–Æ—Ä–∏—á'}, {name:'–ù–∞–±–æ—Ä –∫–ª—é—á–µ–π', owner:'–ê–¥–º–∏–Ω'}],

                prompts: [
                    "–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π –≤–µ–∑–¥–µ—Ö–æ–¥ –Ω–∞ –±–∞–∑–µ —Å—Ç–∞—Ä–æ–π —Å—Ç–∏—Ä–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã.",
                    "–ù–∞–ø–∏—à–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: –∫–∞–∫ –ø–æ—á–∏–Ω–∏—Ç—å –∫–æ—Ä–æ–±–∫—É –ø–µ—Ä–µ–¥–∞—á —Å –ø–æ–º–æ—â—å—é –º–∞–≥–Ω–∏—Ç–∞ –∏ –º–æ–ª–∏—Ç–≤—ã.",
                    "–ü—Ä–∏–¥—É–º–∞–π –¥–∏–∑–∞–π–Ω –≥–∞—Ä–∞–∂–∞ –≤ —Å—Ç–∏–ª–µ –∫–∏–±–µ—Ä–ø–∞–Ω–∫ –∏–∑ –°–°–°–†."
                ],
                jokes: [
                    "–ó–∞—Ö–æ–¥–∏—Ç –∏–Ω–∂–µ–Ω–µ—Ä –≤ –±–∞—Ä, –∞ —Ç–∞–º –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –û–Ω —Ç–∞–∫–æ–π: '–ù–µ–ø–æ—Ä—è–¥–æ–∫!'",
                    "–ö—É–ø–∏–ª –º—É–∂–∏–∫ –º–∞—à–∏–Ω—É, –∞ –æ–Ω–∞ ‚Äî –≤–µ–¥—Ä–æ. –ó–∞—Ç–æ —Å–∏–Ω–µ–µ –≤–µ–¥—Ä–æ!",
                    "–ï—Å–ª–∏ –¥–µ—Ç–∞–ª—å –ª–∏—à–Ω—è—è ‚Äî –∑–Ω–∞—á–∏—Ç, –æ–Ω–∞ –∑–∞–ø–∞—Å–Ω–∞—è."
                ],

                init() {
                    lucide.createIcons();
                    this.updateCalendar();
                    this.shufflePrompt();
                    this.shuffleJoke();
                    this.generateQR();
                    this.initCloud();
                },

                setPage(p) { this.page = p; this.$nextTick(() => lucide.createIcons()); },

                updateCalendar() {
                    const now = new Date();
                    this.todayDate = now.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' });
                    const holidays = { "01-01": "–ù–æ–≤—ã–π –ì–æ–¥!", "01-07": "–†–æ–∂–¥–µ—Å—Ç–≤–æ", "02-23": "–î–µ–Ω—å –ó–∞—â–∏—Ç–Ω–∏–∫–∞!", "03-08": "–° 8 –ú–∞—Ä—Ç–∞!", "05-01": "–ú–∏—Ä, –¢—Ä—É–¥, –ú–∞–π!", "05-09": "–î–µ–Ω—å –ü–æ–±–µ–¥—ã!", "07-03": "–î–µ–Ω—å –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –†–ë!" };
                    const key = now.toISOString().slice(5, 10);
                    this.holidayTitle = holidays[key] || "–†–∞–±–æ—á–∞—è —Å–º–µ–Ω–∞";
                    const quotes = ["–†–∞–±–æ—Ç–∞–µ—Ç? –ù–µ –ª–µ–∑—å!", "–°–µ–º—å —Ä–∞–∑ –æ—Ç–º–µ—Ä—å, –æ–¥–∏–Ω —Ä–∞–∑ –æ—Ç—Ä–µ–∂—å.", "–°–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞ ‚Äî –∑–∞–ª–æ–≥ —É—Å–ø–µ—Ö–∞."];
                    this.dailyQuote = quotes[now.getDate() % quotes.length];
                },

                shufflePrompt() { this.currentPrompt = this.prompts[Math.floor(Math.random() * this.prompts.length)]; },
                shuffleJoke() { this.currentJoke = this.jokes[Math.floor(Math.random() * this.jokes.length)]; },

                async initCloud() {
                    try {
                        const sb = supabase.createClient('https://grsszunlfmehyykkvccj.supabase.co', 'ZTEGCDF4981E');
                        const { data } = await sb.from('artel_messages').select('*').limit(20);
                        if (data) this.messages = data;
                    } catch(e) {}
                },

                sendMsg() {
                    if(!this.msg) return;
                    this.messages.push({username: this.username, text: this.msg});
                    this.msg = '';
                },

                scanOBD() {
                    const codes = {"P0300": "–ü—Ä–æ–ø—É—Å–∫–∏ –∑–∞–∂–∏–≥–∞–Ω–∏—è", "P0171": "–ë–µ–¥–Ω–∞—è —Å–º–µ—Å—å"};
                    return codes[this.obdQuery.toUpperCase()] || "–ö–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å —Å–∏–Ω—é—é –∏–∑–æ–ª–µ–Ω—Ç—É.";
                },

                generateQR() {
                    const qr = qrcode(0, 'M');
                    qr.addData(window.location.href);
                    qr.make();
                    document.getElementById('qrcode').innerHTML = qr.createImgTag(4);
                }
            }));
        });
    </script>
</body>
</html>
